<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Cory Nissen" />


<title>fitbitScraper Examples</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">fitbitScraper Examples</h1>
<h4 class="author"><em>Cory Nissen</em></h4>
<h4 class="date"><em>5/5/2016</em></h4>



<div id="installation" class="section level2">
<h2>Installation</h2>
<p>Install fitbitScraper as you would a normal library. It exists on <a href="https://cran.r-project.org/package=fitbitScraper">CRAN</a>, so a simple <code>install.packages(&quot;fitbitScraper&quot;)</code> should work.</p>
<p>A development version exists on <a href="https://github.com/corynissen/fitbitScraper">Github</a>, and can be installed via <a href="https://cran.r-project.org/package=devtools">devtools</a>. <code>devtools::install_github(&quot;corynissen/fitbitScraper&quot;)</code></p>
</div>
<div id="usage" class="section level2">
<h2>Usage</h2>
<p>I’ve stored my password in an environment variable called “FBPW”. I’ll use this to login to fitbit and generate a cookie that will be used for the subsequent requests. You can type it directly in the password field, but it is generally a best practice to use an environment variable instead. Fitbit allows login via Google and Facebook. This library only works with an email / password based login.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;fitbitScraper&quot;</span>)
cookie &lt;-<span class="st"> </span><span class="kw">login</span>(<span class="dt">email=</span><span class="st">&quot;corynissen@gmail.com&quot;</span>, <span class="dt">password=</span><span class="kw">Sys.getenv</span>(<span class="st">&quot;FBPW&quot;</span>))</code></pre></div>
<p>Now you can run any of the other functions to get your data. Let’s start with getting steps on a 15 minute interval for a given week…</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dates &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="kw">as.Date</span>(<span class="st">&quot;2016-04-03&quot;</span>), <span class="kw">as.Date</span>(<span class="st">&quot;2016-04-09&quot;</span>), <span class="dt">by=</span><span class="st">&quot;day&quot;</span>)
df_list &lt;-<span class="st"> </span><span class="kw">lapply</span>(dates, function(x)
  <span class="kw">get_intraday_data</span>(<span class="dt">cookie=</span>cookie, <span class="dt">what=</span><span class="st">&quot;steps&quot;</span>, <span class="kw">as.character</span>(x)))
df &lt;-<span class="st"> </span><span class="kw">do.call</span>(rbind, df_list)

<span class="kw">library</span>(<span class="st">&quot;ggplot2&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;ggthemes&quot;</span>)
<span class="kw">ggplot</span>(df) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x=</span>time, <span class="dt">y=</span>steps), <span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">theme_tufte</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">scale_x_datetime</span>(<span class="dt">name=</span><span class="st">&quot;date&quot;</span>, <span class="dt">date_breaks=</span><span class="st">&quot;1 day&quot;</span>, <span class="dt">date_labels=</span><span class="st">&quot;%b-%d&quot;</span>)</code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>You can get a daily summary of your data also. Here, I download data for the number of flights of stairs I climbed for the last two months. Then, compute the average number of flights of stairs by day, and graph it. Not surprisingly, I climb more stairs on the weekends when I’m home than I do at work during the week. Note that it is possible to get this data using <code>get_intraday_data()</code> for each day, but this is much more efficient using just one call to the fibit API for the entire date range instead of one API call per day.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw">get_daily_data</span>(<span class="dt">cookie=</span>cookie, <span class="dt">what=</span><span class="st">&quot;floors&quot;</span>, <span class="dt">start_date=</span><span class="st">&quot;2016-02-15&quot;</span>,
                     <span class="dt">end_date=</span><span class="st">&quot;2016-05-01&quot;</span>)
df$weekday &lt;-<span class="st"> </span><span class="kw">format</span>(df$time, <span class="st">&quot;%A&quot;</span>)
avgs &lt;-<span class="st"> </span><span class="kw">by</span>(df$floors, df$weekday, mean)
avgs &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">day=</span><span class="kw">names</span>(avgs), <span class="dt">floors=</span><span class="kw">as.numeric</span>(avgs))
avgs$day &lt;-<span class="st"> </span><span class="kw">factor</span>(avgs$day, <span class="dt">levels=</span>avgs$day[<span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">3</span>)])

<span class="kw">ggplot</span>(avgs) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x=</span>day, <span class="dt">y=</span>floors), <span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">theme_tufte</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Average Floors by Day 2016-02-15 to 2016-05-01&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">x=</span>day,<span class="dt">y=</span>floors,<span class="dt">label=</span><span class="kw">round</span>(floors, <span class="dv">1</span>)),
            <span class="dt">vjust=</span><span class="fl">1.1</span>, <span class="dt">colour=</span><span class="st">&quot;white&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.y=</span><span class="kw">element_blank</span>(), <span class="dt">axis.ticks.y=</span><span class="kw">element_blank</span>()) +<span class="st"> </span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title=</span><span class="kw">element_text</span>(<span class="dt">vjust=</span>.<span class="dv">5</span>)) </code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>Another thing to look at, especially if you have the <a href="https://www.fitbit.com/aria">Aria scale</a>, is your weight. You can record your weight manually in the fitbit app, which is how I do it, or the Aria scale will sync it automatically. Any how, let’s graph my steps vs. weight for a time period and see if there seems to be a correlation. Data is returned for use in a graph on the fitbit page, so if you include a date range larger than two weeks or so, it returns data for a subset of the days in your range. Fitbit seems to play pretty loose with the start and end dates too. I want data from 2015-01-01 to 2015-05-01, so I’ll break that into several requests to fitbit.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># don't do this...</span>
<span class="co"># mywt &lt;- get_weight_data(cookie, start_date=&quot;2015-01-01&quot;, end_date=&quot;2015-05-01&quot;)</span>
start_date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&quot;2015-01-01&quot;</span>)
end_date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&quot;2015-05-01&quot;</span>)
wt_df_list &lt;-<span class="st"> </span><span class="kw">list</span>()      <span class="co"># initialize a list to put the weight dataframes into</span>
in_range &lt;-<span class="st"> </span><span class="ot">TRUE</span>          <span class="co"># indicator variable to tell when to exit while loop</span>
s_date &lt;-<span class="st"> </span>start_date      <span class="co"># date to start with during loop</span>
while(in_range){
  e_date &lt;-<span class="st"> </span>s_date +<span class="st"> </span><span class="dv">14</span>
  new_df &lt;-<span class="st"> </span><span class="kw">get_weight_data</span>(cookie, <span class="dt">start_date=</span><span class="kw">as.character</span>(s_date),
                            <span class="dt">end_date=</span><span class="kw">as.character</span>(e_date))
  wt_df_list[[<span class="kw">as.character</span>(s_date)]] &lt;-<span class="st"> </span>new_df
  s_date &lt;-<span class="st"> </span>e_date +<span class="st"> </span><span class="dv">1</span>
  if(e_date &gt;<span class="st"> </span>end_date) in_range &lt;-<span class="st"> </span><span class="ot">FALSE</span>
}
wt_df &lt;-<span class="st"> </span><span class="kw">do.call</span>(rbind, wt_df_list)
wt_df &lt;-<span class="st"> </span>wt_df[!<span class="kw">duplicated</span>(wt_df$time), ]
wt_df &lt;-<span class="st"> </span>wt_df[<span class="kw">order</span>(wt_df$time), ]
wt_df &lt;-<span class="st"> </span>wt_df[<span class="kw">as.Date</span>(wt_df$time) &gt;=<span class="st"> </span>start_date &amp;
<span class="st">               </span><span class="kw">as.Date</span>(wt_df$time) &lt;=<span class="st"> </span>end_date, ]

step_df &lt;-<span class="st"> </span><span class="kw">get_daily_data</span>(<span class="dt">cookie=</span>cookie, <span class="dt">what=</span><span class="st">&quot;steps&quot;</span>, <span class="dt">start_date=</span><span class="st">&quot;2015-01-01&quot;</span>,
                          <span class="dt">end_date=</span><span class="st">&quot;2015-05-01&quot;</span>)

<span class="co"># get common date format to merge data sets...</span>
wt_df$date &lt;-<span class="st"> </span><span class="kw">as.character</span>(<span class="kw">as.Date</span>(wt_df$time))
step_df$date &lt;-<span class="st"> </span><span class="kw">as.character</span>(<span class="kw">as.Date</span>(step_df$time))

<span class="co"># merge by date</span>
df &lt;-<span class="st"> </span><span class="kw">merge</span>(wt_df, step_df, <span class="dt">by=</span><span class="st">&quot;date&quot;</span>)

<span class="co"># now plot</span>
<span class="kw">ggplot</span>(df, <span class="kw">aes</span>(<span class="dt">x=</span>steps, <span class="dt">y=</span>weight)) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">stat_smooth</span>(<span class="dt">se=</span><span class="ot">FALSE</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">theme_tufte</span>()</code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>That last example illustrates one of the limitations of retrieving the data the way this library does. Instead of using the “official” fitbit API, this library uses the API intended for their website developer to use to build the visualizations on the web dashboard. So, there’s no public documentation. This results in situations like the last one where the weight data returned by that API call is intended to be used in a chart, so they don’t need more than 20 points, so that’s all that is returned, no matter how large the date range supplied is. Keep this in mind when you request data and use caution that you are being returned data for the same dates that you requested it for.</p>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
